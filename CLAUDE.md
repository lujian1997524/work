# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## ğŸš¨ å…³é”®çº¦æŸå’Œç¦ä»¤

### NPM å‘½ä»¤ç¦ç”¨
**ç»å¯¹ä¸å…è®¸ Claude è‡ªåŠ¨æ‰§è¡Œä»»ä½• npm ç›¸å…³å‘½ä»¤**ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
- `npm run dev`
- `npm run build` 
- `npm start`
- `npm install`
- `npm run lint`
- `npm run typecheck`
- `npm test`

**åŸå› **ï¼š
- æ„å»ºå‘½ä»¤ä¼šåˆ›å»ºé—®é¢˜æ€§çš„ .next æ–‡ä»¶
- å¼€å‘æœŸé—´ä¸åº”è¯¥è¿è¡Œæ„å»º
- ç”¨æˆ·å¸Œæœ›å®Œå…¨æ§åˆ¶ä½•æ—¶è¿è¡Œè¿™äº›å‘½ä»¤

**æ­£ç¡®åšæ³•**ï¼š
- åªèƒ½å»ºè®®ç”¨æˆ·è¿è¡Œç›¸åº”å‘½ä»¤
- å¦‚æœéœ€è¦éªŒè¯ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦è¦è¿è¡Œ
- ç»ä¸ä¸»åŠ¨æ‰§è¡Œ

### æœåŠ¡å™¨æ¶æ„é…ç½®
**é‡è¦è¯´æ˜**ï¼šæœ¬é¡¹ç›®é‡‡ç”¨è¿œç¨‹åç«¯åˆ†ç¦»å¼æ¶æ„
- **å‰ç«¯æœåŠ¡**: æœ¬åœ°å¼€å‘æœåŠ¡å™¨ http://localhost:4000
- **åç«¯æœåŠ¡**: è¿œç¨‹äº‘æœåŠ¡å™¨ https://api.gei5.com
- **æ•°æ®åº“**: è¿œç¨‹MySQLæœåŠ¡å™¨ï¼Œæ— éœ€æœ¬åœ°æ•°æ®åº“

**ç«¯å£æ£€æŸ¥çº¦æŸ**ï¼š
```bash
lsof -ti:4000    # æ£€æŸ¥å‰ç«¯ç«¯å£ï¼ˆä»…éœ€æ£€æŸ¥æ­¤ç«¯å£ï¼‰
```

**å…³é”®æ¶æ„è¦ç‚¹**ï¼š
- æ‰€æœ‰APIè¯·æ±‚é€šè¿‡å‰ç«¯çš„ `utils/api.ts` ç›´æ¥è¿æ¥è¿œç¨‹æœåŠ¡å™¨
- åç«¯ä»£ç ä»…ç”¨äºå¼€å‘å’Œéƒ¨ç½²å‚è€ƒï¼Œä¸åœ¨æœ¬åœ°è¿è¡Œ
- å‰ç«¯ç¯å¢ƒå˜é‡ `NEXT_PUBLIC_BACKEND_URL=https://api.gei5.com` é…ç½®è¿œç¨‹è¿æ¥

## å¿«é€Ÿå¼€å§‹

### å‰ç«¯å¼€å‘å·¥ä½œæµï¼ˆè¿œç¨‹åç«¯æ¶æ„ï¼‰
```bash
# 1. æ£€æŸ¥å‰ç«¯æœåŠ¡çŠ¶æ€
lsof -ti:4000 && echo "å‰ç«¯å·²å¯åŠ¨" || echo "å‰ç«¯æœªå¯åŠ¨"

# 2. ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆä»…åœ¨æœªå¯åŠ¨æ—¶ï¼‰
cd frontend && npm run dev     # å‰ç«¯: http://localhost:4000

# 3. å¥åº·æ£€æŸ¥
curl http://localhost:4000     # å‰ç«¯æœåŠ¡ï¼ˆæœ¬åœ°ï¼‰
# åç«¯API: https://api.gei5.comï¼ˆè¿œç¨‹ï¼Œé€šè¿‡å‰ç«¯ä»£ç†è®¿é—®ï¼‰
```

### å…³é”®å¼€å‘ç«¯ç‚¹
- **ä¸»åº”ç”¨**: http://localhost:4000
- **ç»„ä»¶ç³»ç»Ÿ**: http://localhost:4000/design-system
- **APIæµ‹è¯•**: http://localhost:4000/debug-api
- **DXFè°ƒè¯•**: http://localhost:4000/debug-dxf - ä¼ä¸šçº§DXFé¢„è§ˆç³»ç»Ÿæµ‹è¯• (v2.5.2æ–°å¢)
- **è€ƒå‹¤ç®¡ç†**: http://localhost:4000ï¼ˆå¯¼èˆªè‡³è€ƒå‹¤æ¨¡å—ï¼‰
- **ç§»åŠ¨ç«¯æµ‹è¯•**: http://localhost:4000/mobile-test
- **Toastæµ‹è¯•**: http://localhost:4000/toast-test

## ä¸¥æ ¼éµå®ˆ
- æ‰€æœ‰å›å¤å¿…é¡»ä½¿ç”¨ä¸­æ–‡
- æ‰€æœ‰æ³¨é‡Šå¿…é¡»ä½¿ç”¨ä¸­æ–‡
- æ ·å¼å’Œ UI å°½å¯èƒ½ä½¿ç”¨/design-systemçš„ç»„ä»¶
- ä»»ä½•æ—¶å€™æ²¡æœ‰æˆ‘çš„ç™¾åˆ†ç™¾ç¡®è®¤å¼€å§‹ï¼Œä¸è¦ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œæ°¸è¿œéƒ½æ˜¯è®¨è®ºå‡ºç»“æœï¼Œç»è¿‡æˆ‘æ˜ç¡®çš„ç¡®è®¤ä¹‹åï¼Œæ‰èƒ½è¿›è¡Œå¼€å‘å’Œä¿®æ”¹å·¥ä½œ
- **ä¸¥ç¦ä½¿ç”¨ emoji**ï¼šå…¨ç«™ç»Ÿä¸€ä½¿ç”¨ @heroicons/react å›¾æ ‡åº“ï¼Œä¸å…è®¸åœ¨ä»»ä½•ä»£ç ã€ç•Œé¢ã€æ³¨é‡Šä¸­ä½¿ç”¨ emoji è¡¨æƒ…ç¬¦å·
- **å›¾æ ‡è§„èŒƒ**ï¼šæ‰€æœ‰å›¾æ ‡å¿…é¡»ä½¿ç”¨ @heroicons/react/24/outline æˆ– @heroicons/react/24/solidï¼Œç¡®ä¿è§†è§‰é£æ ¼ç»Ÿä¸€
- æ¯æ¬¡éœ€è¦å¯åŠ¨å‰ç«¯å’Œåç«¯çš„æ—¶å€™ï¼Œå…ˆæ£€æµ‹ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œå¦‚æœè¢«å ç”¨è¯´æ˜æœåŠ¡å·²ç»å¯åŠ¨äº†ï¼Œä¸éœ€è¦å†æ¬¡å¯åŠ¨ï¼Œç›´æ¥ç»§ç»­
- éµå®ˆYAGNIåŸåˆ™
- **å¼€å‘é˜¶æ®µä¸¥ç¦æ„å»º**ï¼šå¼€å‘è¿‡ç¨‹ä¸­åªä½¿ç”¨ `npm run dev` å¼€å‘æœåŠ¡å™¨ï¼Œä¸¥ç¦ä½¿ç”¨ `npm run build` æ„å»ºå‘½ä»¤ã€‚æ„å»ºä¼šäº§ç”Ÿ `.next` ç­‰æ–‡ä»¶å¯¼è‡´é‡å¤é—®é¢˜å’Œé”™è¯¯ã€‚åªåœ¨æœ€ç»ˆéƒ¨ç½²å‰æ‰è¿›è¡Œæ„å»º
- **è¯­æ³•é”™è¯¯æ£€æŸ¥æ–¹å¼**ï¼šä½¿ç”¨å¼€å‘æœåŠ¡å™¨çš„çƒ­é‡è½½å’Œæµè§ˆå™¨æ§åˆ¶å°æ£€æŸ¥é”™è¯¯ï¼Œæˆ–ä½¿ç”¨ `npx tsc --noEmit` è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä¸è¦ç”¨æ„å»ºæ¥æ£€æŸ¥è¯­æ³•é”™è¯¯

### Gitæäº¤çº¦æŸ
**ç¦æ­¢Claudeä½œä¸ºè´¡çŒ®è€…**ï¼š
- **ä¸¥ç¦ä½¿ç”¨Co-Authored-Byæ ‡ç­¾**ï¼šGitæäº¤ä¿¡æ¯ä¸­ä¸å¾—åŒ…å« `Co-Authored-By: Claude <noreply@anthropic.com>`
- **æ¸…ç†æäº¤ä¿¡æ¯**ï¼šæ‰€æœ‰commit messageå¿…é¡»åªåŒ…å«å®é™…ä»£ç å˜æ›´æè¿°ï¼Œä¸åŒ…å«Claudeç›¸å…³æ ‡è¯†
- **æ ‡å‡†æäº¤æ ¼å¼**ï¼šä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯ï¼Œå¦‚ `fix:`, `feat:`, `docs:` ç­‰ï¼Œä½†ä¸åŒ…å«AIå·¥å…·æ ‡è¯†
- **åŸå› **ï¼šé¿å…åœ¨GitHubè´¡çŒ®è€…åˆ—è¡¨ä¸­æ˜¾ç¤ºClaudeï¼Œä¿æŒé¡¹ç›®è´¡çŒ®è€…çš„å‡†ç¡®æ€§

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªæ¿€å…‰åˆ‡å‰²ç”Ÿäº§ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨VS Codeé£æ ¼çš„ç•Œé¢å¸ƒå±€ï¼Œæ”¯æŒé¡¹ç›®ç®¡ç†ã€æ¿æçŠ¶æ€è¿½è¸ªã€å›¾çº¸ç®¡ç†å’Œå·¥äººèµ„æºç®¡ç†ã€‚

## æ ¸å¿ƒæŠ€æœ¯æ ˆå’Œæ¶æ„æ¨¡å¼

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Next.js 15.4.7**: App Routeræ¨¡å¼ï¼Œé™æ€æ¸²æŸ“å’ŒSSG
- **React 19.1.1**: æœ€æ–°Hooks APIå’Œå¹¶å‘ç‰¹æ€§
- **TypeScript 5.7.2**: ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿ä»£ç è´¨é‡
- **Zustand 5.0.3**: è½»é‡çº§çŠ¶æ€ç®¡ç†ï¼Œæ›¿ä»£Redux
- **Tailwind CSS 3.4.16**: åŸå­ç±»CSSæ¡†æ¶ï¼ŒiOS 18è®¾è®¡ç³»ç»Ÿ
- **Framer Motion 11.16.0**: åŠ¨ç”»å’Œæ‰‹åŠ¿åº“
- **ExcelJS 4.4.0**: ä¼ä¸šçº§Excelæ–‡ä»¶ç”Ÿæˆ
- **@heroicons/react 2.2.0**: å®˜æ–¹å›¾æ ‡åº“
- **three.js + dxf-viewer**: 3D CADæ–‡ä»¶é¢„è§ˆ

### åç«¯æŠ€æœ¯æ ˆ
- **Node.js + Express 4.21.2**: RESTful APIæœåŠ¡
- **Sequelize 6.37.7**: MySQL ORMï¼Œæ•°æ®æ¨¡å‹ç®¡ç†
- **MySQL2 3.14.2**: æ•°æ®åº“é©±åŠ¨
- **JWT + bcryptjs**: è®¤è¯å’Œå¯†ç å®‰å…¨
- **Multer 2.0.2**: æ–‡ä»¶ä¸Šä¼ å¤„ç†
- **Sharp 0.34.3**: å›¾åƒå¤„ç†ä¼˜åŒ–
- **Canvas 3.1.2**: DXFæ–‡ä»¶æ¸²æŸ“æœåŠ¡

### å…³é”®æ¶æ„æ¨¡å¼
- **è¿œç¨‹åç«¯åˆ†ç¦»**: å‰ç«¯localhost:4000ï¼Œåç«¯https://api.gei5.com
- **äº‹ä»¶é©±åŠ¨çŠ¶æ€**: åŸç”ŸCustomEventå®ç°è·¨ç»„ä»¶é€šä¿¡
- **å››çŠ¶æ€ææ–™å¾ªç¯**: emptyâ†’pendingâ†’in_progressâ†’completedâ†’empty
- **VS Codeé£æ ¼UI**: ActivityBar + Sidebar + MainContentå¸ƒå±€
- **SSEå®æ—¶é€šä¿¡**: Server-Sent Eventsæ›¿ä»£WebSocket

### ç«¯å£å’ŒæœåŠ¡
- **å‰ç«¯å¼€å‘æœåŠ¡å™¨**: http://localhost:4000 (Next.js dev server)
- **åç«¯APIæœåŠ¡**: https://api.gei5.comï¼ˆè¿œç¨‹äº‘æœåŠ¡å™¨ï¼‰
- **MySQLæ•°æ®åº“**: è¿œç¨‹äº‘æ•°æ®åº“ï¼ˆé€šè¿‡APIè®¿é—®ï¼‰

### é»˜è®¤ç”¨æˆ·
- **é«˜æ˜¥å¼º** (admin) - ç®¡ç†å‘˜æƒé™
- **æ¨ä¼Ÿ** (operator) - æ“ä½œå‘˜æƒé™

## æ ¸å¿ƒæ¶æ„çº¦æŸ

### çŠ¶æ€ç®¡ç†æ¶æ„
- **ç¦æ­¢WebSocket**: ç”¨æˆ·æ˜ç¡®è¦æ±‚å¼ƒç”¨WebSocketå¤æ‚æ–¹æ¡ˆ
- **å¼ºåˆ¶Zustand**: æ‰€æœ‰çŠ¶æ€ç®¡ç†å¿…é¡»ä½¿ç”¨5ä¸ªæ ¸å¿ƒStore
  - `projectStore.ts` - é¡¹ç›®æ•°æ®ç®¡ç†
  - `materialStore.ts` - ææ–™çŠ¶æ€ç®¡ç†
  - `workerMaterialStore.ts` - å·¥äººææ–™å…³è”
  - `globalSyncStore.ts` - å…¨å±€çŠ¶æ€åŒæ­¥
  - `notificationStore.ts` - é€šçŸ¥ç³»ç»Ÿ
- **äº‹ä»¶é©±åŠ¨é€šä¿¡**: ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿäº‹ä»¶ç³»ç»Ÿå®ç°ç»„ä»¶é—´çŠ¶æ€åŒæ­¥
  ```javascript
  // è§¦å‘æ›´æ–°
  window.dispatchEvent(new CustomEvent('materials-updated'));
  // ç›‘å¬æ›´æ–°  
  window.addEventListener('materials-updated', () => { /* å¤„ç†é€»è¾‘ */ });
  ```

### APIæ¶æ„çº¦æŸ
- **ç›´è¿æ¨¡å¼**: å‰ç«¯é€šè¿‡ `utils/api.ts` çš„ `apiRequest()` ç›´æ¥è¿æ¥åç«¯
- **JWTè®¤è¯**: æ‰€æœ‰APIè¯·æ±‚å¿…é¡»åŒ…å« `Authorization: Bearer <token>` å¤´
- **å“åº”æ ¼å¼å¤„ç†**: å¤„ç†åç«¯åŒ…è£…å“åº” `{projects: [...]}` â†’ `[...]`
- **å››çŠ¶æ€å¾ªç¯**: MaterialçŠ¶æ€å¿…é¡»æ”¯æŒ `emptyâ†’pendingâ†’in_progressâ†’completedâ†’empty`

### å¸ƒå±€ç³»ç»Ÿçº¦æŸ
- **VS Codeé£æ ¼**: ä¸¥æ ¼éµå¾ª ActivityBar(64px) + Sidebar(220px) + MainContent å¸ƒå±€
- **MaterialsTableæ ¼å¼**: åºå·-é¡¹ç›®å-å·¥äºº-2mm-3mm-4mm...-å¤‡æ³¨-å¼€å§‹æ—¶é—´-å®Œæˆæ—¶é—´-å›¾çº¸
- **ç¦æ­¢ä¿®æ”¹å¸ƒå±€**: ç”¨æˆ·æ˜ç¡®è¦æ±‚ä¿æŒå·¦ä¾§è¾¹æ +å³ä¾§è¡¨æ ¼è®¾è®¡

## å¼€å‘å‘½ä»¤

### å‰ç«¯å¼€å‘ï¼ˆä¸»è¦å·¥ä½œæµï¼‰
```bash
# å®‰è£…ä¾èµ–ï¼ˆä»…éœ€ä¸€æ¬¡ï¼‰
cd frontend && npm install

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd frontend && npm run dev         # å‰ç«¯ç«¯å£4000 (Next.jså¼€å‘æœåŠ¡å™¨)

# ç”Ÿäº§ç¯å¢ƒæ„å»ºï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
cd frontend && npm run build       # ä»…åœ¨æœ€ç»ˆéƒ¨ç½²æ—¶ä½¿ç”¨
cd frontend && npm run start       # å‰ç«¯ç”Ÿäº§æœåŠ¡å™¨

# Tauriæ¡Œé¢åº”ç”¨å¼€å‘
cd frontend && npm run tauri dev   # å¼€å‘æ¨¡å¼å¯åŠ¨æ¡Œé¢åº”ç”¨
cd frontend && npm run tauri build # æ„å»ºæ¡Œé¢åº”ç”¨(Windows/macOS/Linux)
```

### åç«¯å¼€å‘ï¼ˆä»…ä¾›å‚è€ƒï¼Œè¿œç¨‹éƒ¨ç½²ï¼‰
```bash
# åç«¯å®‰è£…ä¾èµ–
cd backend && npm install

# åç«¯æœ¬åœ°å¼€å‘ï¼ˆä»…æµ‹è¯•ç”¨ï¼‰
cd backend && npm run dev          # ä½¿ç”¨nodemonçƒ­é‡è½½
cd backend && npm run start        # ç”Ÿäº§æ¨¡å¼å¯åŠ¨

# æ•°æ®åº“æ“ä½œï¼ˆè¿œç¨‹ç®¡ç†ï¼‰
cd backend && npm run init:db      # åˆå§‹åŒ–æ•°æ®åº“ç»“æ„
cd backend && npm run create:sample # åˆ›å»ºæµ‹è¯•æ•°æ®

# æ³¨æ„ï¼šæœ¬åœ°ä¸è¿è¡Œåç«¯ï¼Œä»…ä¿®æ”¹ä»£ç ä¾›è¿œç¨‹éƒ¨ç½²ä½¿ç”¨
```

### ä»£ç æ£€æŸ¥å‘½ä»¤ï¼ˆç”¨æˆ·æ‰‹åŠ¨è¿è¡Œï¼‰
```bash
# TypeScriptç±»å‹æ£€æŸ¥ï¼ˆæ¨èæ–¹å¼ï¼Œä¸æ„å»ºï¼‰
cd frontend && npx tsc --noEmit

# ä»£ç è´¨é‡æ£€æŸ¥
cd frontend && npm run lint

# æ³¨æ„ï¼šé¡¹ç›®æ— å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œä¸»è¦ä¾é å¼€å‘æœåŠ¡å™¨çƒ­é‡è½½å’Œç±»å‹æ£€æŸ¥
# æ³¨æ„ï¼šClaude ä¸èƒ½è‡ªåŠ¨è¿è¡Œè¿™äº›å‘½ä»¤ï¼Œåªèƒ½å»ºè®®ç”¨æˆ·è¿è¡Œ
```

### åç«¯APIæ¶æ„
ç³»ç»Ÿé‡‡ç”¨æ ‡å‡†çš„RESTful APIè®¾è®¡ï¼Œæ”¯æŒç›´è¿æ¨¡å¼ï¼ˆå‰ç«¯ç›´æ¥è¿æ¥åç«¯ï¼Œä¸ä½¿ç”¨Next.js APIè·¯ç”±ï¼‰ï¼š

#### æ ¸å¿ƒAPIç«¯ç‚¹
- **è®¤è¯æ¨¡å—** - `/api/auth` - JWTè®¤è¯å’Œç”¨æˆ·ç™»å½•
- **é¡¹ç›®ç®¡ç†** - `/api/projects` - é¡¹ç›®CRUDã€çŠ¶æ€ç®¡ç†ã€å·¥äººåˆ†é…
- **ææ–™ç®¡ç†** - `/api/materials` - æ¿æçŠ¶æ€åˆ‡æ¢ï¼ˆemptyâ†’pendingâ†’in_progressâ†’completedï¼‰
- **åšåº¦è§„æ ¼** - `/api/thickness-specs` - åŠ¨æ€åšåº¦é…ç½®ç®¡ç†
- **å·¥äººç®¡ç†** - `/api/workers` - å·¥äººä¿¡æ¯CRUDã€éƒ¨é—¨åˆ†é…
- **éƒ¨é—¨ç®¡ç†** - `/api/departments` - éƒ¨é—¨å¢åˆ æ”¹æŸ¥
- **å›¾çº¸ç®¡ç†** - `/api/drawings` - æ–‡ä»¶ä¸Šä¼ ã€ç‰ˆæœ¬æ§åˆ¶ã€DXFé¢„è§ˆ
- **ä¼ä¸šçº§DXFé¢„è§ˆ** - `/api/enterprise-dxf/*` - é«˜æ€§èƒ½DXFè§£æã€å¤šåˆ†è¾¨ç‡é¢„è§ˆã€ç¼“å­˜ç®¡ç†
- **å…¨å±€æœç´¢** - `/api/search` - è·¨æ¨¡å—æœç´¢åŠŸèƒ½ï¼ˆæ”¯æŒè€ƒå‹¤ã€é¡¹ç›®ã€ææ–™ã€å›¾çº¸æœç´¢ï¼‰
- **ä»ªè¡¨ç›˜** - `/api/dashboard` - ç»Ÿè®¡æ•°æ®å’Œæ¦‚è§ˆä¿¡æ¯
- **è€ƒå‹¤ç®¡ç†** - `/api/attendance` - å‘˜å·¥è€ƒå‹¤è®°å½•ã€è¯·å‡ã€åŠ ç­ç®¡ç†
- **å‘˜å·¥ç®¡ç†** - `/api/employees` - å‘˜å·¥ä¿¡æ¯ç®¡ç†
- **SSEé€šä¿¡** - `/api/sse` - Server-Sent Eventså®æ—¶é€šçŸ¥

#### æ•°æ®åº“æ¨¡å‹
- **users** (id, name, role) - ç”¨æˆ·è¡¨
- **workers** (id, name, phone, email, department, position) - å·¥äººè¡¨
- **projects** (id, name, status, priority, assigned_worker_id, created_by) - é¡¹ç›®è¡¨
- **thickness_specs** (id, thickness, unit, material_type, is_active, sort_order) - åšåº¦è§„æ ¼è¡¨
- **materials** (id, project_id, thickness_spec_id, status, completed_by, completed_date) - æ¿æè¡¨
- **drawings** (id, project_id, filename, file_path, version, uploaded_by) - å›¾çº¸è¡¨
- **operation_history** - æ“ä½œå†å²æ—¥å¿—
- **worker_materials** - å·¥äººææ–™å…³è”è¡¨
- **material_dimensions** - ææ–™å°ºå¯¸ç®¡ç†è¡¨
- **material_requirements** - ææ–™éœ€æ±‚è¡¨
- **material_allocations** - ææ–™åˆ†é…è¡¨
- æ‰©å±•è¡¨ï¼šmaterial_inventoryã€material_borrowingã€cutting_recordsç­‰

### å‰ç«¯æ¶æ„ç‰¹ç‚¹
- **ç›´è¿åç«¯æ¨¡å¼**: å‰ç«¯é€šè¿‡ `/utils/api.ts` çš„ `apiRequest()` å‡½æ•°ç›´æ¥è¿æ¥åç«¯API
- **VSCodeé£æ ¼å¸ƒå±€**: ActivityBar(64px) + Sidebar(220px) + MainContentçš„ä¸‰æ å¸ƒå±€
- **iOS 18è®¾è®¡ç³»ç»Ÿ**: æ¯›ç»ç’ƒæ•ˆæœã€åœ†è§’è®¾è®¡ã€Apple Human Interface Guidelines
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢/å¹³æ¿/ç§»åŠ¨ç«¯è‡ªé€‚åº”
- **ç»„ä»¶åŒ–æ¶æ„**: 40+è‡ªç ”UIç»„ä»¶ï¼Œé«˜åº¦æ¨¡å—åŒ–

#### å…³é”®å‰ç«¯åŠŸèƒ½
- **å®æ—¶çŠ¶æ€ç®¡ç†**: 6ä¸ªZustand Storeï¼ˆprojectStoreã€materialStoreã€workerMaterialStoreã€notificationStoreã€globalSyncStoreã€attendanceStoreï¼‰
- **äº‹ä»¶é©±åŠ¨é€šä¿¡**: ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿäº‹ä»¶ç³»ç»Ÿå®ç°ç»„ä»¶é—´é€šä¿¡
- **å…¨å±€æœç´¢**: Ctrl+K/Cmd+Kå¿«æ·é”®ï¼Œè·¨æ¨¡å—æœç´¢åŠŸèƒ½ï¼ˆæ”¯æŒè€ƒå‹¤ã€é¡¹ç›®ã€ææ–™ã€å·¥äººã€å›¾çº¸ï¼‰
- **ä¼ä¸šçº§DXFé¢„è§ˆ**: WebAssemblyé«˜æ€§èƒ½å¼•æ“ã€å¤šåˆ†è¾¨ç‡é¢„è§ˆã€æ™ºèƒ½ç¼“å­˜ã€å®æ—¶å›¾å±‚æ§åˆ¶
- **CADæ–‡ä»¶å¤„ç†**: DXFè§£æå’Œdxf-viewer 3Dé¢„è§ˆï¼Œæ”¯æŒCanvasæ¸²æŸ“
- **éŸ³é¢‘é€šçŸ¥ç³»ç»Ÿ**: 5ç§æ™ºèƒ½éŸ³æ•ˆ(success/error/warning/info/wancheng)ï¼Œæ“ä½œåé¦ˆ
- **å®æ—¶é€šçŸ¥**: SSE + æ¡Œé¢é€šçŸ¥ + éŸ³é¢‘æç¤ºçš„å¤šé‡åé¦ˆ
- **ç§»åŠ¨ç«¯é€‚é…**: MobileEmployeeCardã€MobileFormWizardã€StatCardSwiperç­‰ä¸“ç”¨ç§»åŠ¨ç«¯ç»„ä»¶
- **Tauriæ¡Œé¢é›†æˆ**: Ruståç«¯å¤„ç†ç³»ç»Ÿçº§æ“ä½œï¼ŒWebå‰ç«¯è´Ÿè´£UI

### Zustand Storeæ¶æ„è¯¦ç»†è¯´æ˜
```javascript
// projectStore.ts - æ ¸å¿ƒé¡¹ç›®æ•°æ®ç®¡ç†
interface ProjectState {
  projects: Project[];
  currentProject: Project | null;
  loading: boolean;
  fetchProjects(): Promise<void>;
  updateProject(id: number, data: Partial<Project>): Promise<void>;
  deleteProject(id: number): Promise<void>;
}

// materialStore.ts - ææ–™çŠ¶æ€ç®¡ç†
interface MaterialState {
  materials: Material[];
  thicknessSpecs: ThicknessSpec[];
  loading: boolean;
  updateMaterialStatus(id: number, status: MaterialStatus): Promise<void>;
  fetchMaterials(): Promise<void>;
}

// attendanceStore.ts - è€ƒå‹¤ç³»ç»ŸçŠ¶æ€ç®¡ç†ï¼ˆæ–°å¢ï¼‰
interface AttendanceState {
  employees: Employee[];
  attendanceExceptions: AttendanceException[];
  loading: boolean;
  createEmployee(data: Partial<Employee>): Promise<boolean>;
  addException(data: AttendanceExceptionData): Promise<boolean>;
  calculateMonthlySummary(year: number, month: number): Promise<void>;
}

// workerMaterialStore.ts - å·¥äººææ–™å…³è”ç®¡ç†
// globalSyncStore.ts - å…¨å±€åŒæ­¥çŠ¶æ€
// notificationStore.ts - é€šçŸ¥æ¶ˆæ¯ç®¡ç†
```

### å¼€å‘æµç¨‹
```bash
# å‰ç«¯å¼€å‘ï¼ˆçƒ­é‡è½½ï¼‰
cd frontend && npm run dev

# åç«¯å¼€å‘ï¼ˆä»…ä¿®æ”¹æ–‡ä»¶ï¼Œä¸è¿è¡Œï¼‰
# æ³¨æ„ï¼šæœ¬åœ°ä¸è¿è¡Œåç«¯æœåŠ¡ï¼Œä»…ä¿®æ”¹ä»£ç æ–‡ä»¶ä¾›éƒ¨ç½²ä½¿ç”¨
```

### æ•°æ®åº“ç®¡ç†ï¼ˆè¿œç¨‹ï¼‰
```bash
# æ•°æ®åº“æ“ä½œï¼ˆè¿œç¨‹ç®¡ç†ï¼Œä¸åœ¨æœ¬åœ°æ‰§è¡Œï¼‰
# ä»¥ä¸‹å‘½ä»¤ä»…ä¾›å‚è€ƒï¼Œå®é™…ç”±è¿œç¨‹æœåŠ¡å™¨ç®¡ç†ï¼š
# npm run init:db                      # åˆå§‹åŒ–æ•°æ®åº“ç»“æ„
# npm run create:sample                # åˆ›å»ºæµ‹è¯•æ•°æ®
# node sync-db.js                      # åŒæ­¥æ•°æ®åº“ç»“æ„æ›´æ–°
# node create-sample-data.js           # åˆ›å»ºæ ·æœ¬æ•°æ®

# æ•°æ®åº“è®¿é—®ï¼ˆè¿œç¨‹ï¼‰
# è¿œç¨‹æ•°æ®åº“: laser_cutting_db @ https://api.gei5.com
# ç”¨æˆ·: laser_user
# æ³¨æ„ï¼šæ— æœ¬åœ°æ•°æ®åº“è®¿é—®æƒé™
```

### ä»£ç æ£€æŸ¥å‘½ä»¤ï¼ˆç”¨æˆ·æ‰‹åŠ¨è¿è¡Œï¼‰
```bash
# TypeScriptç±»å‹æ£€æŸ¥ï¼ˆä¸æ„å»ºï¼‰
cd frontend && npx tsc --noEmit      # è¯­æ³•éªŒè¯ï¼Œæ¨èæ–¹å¼

# ä»£ç è´¨é‡æ£€æŸ¥
cd frontend && npm run lint          # ESLintæ£€æŸ¥

# å•ç‹¬æ„å»ºå‰ç«¯ï¼ˆç”Ÿäº§éƒ¨ç½²æ—¶ï¼‰
cd frontend && npm run build         # ä»…åœ¨éƒ¨ç½²æ—¶ä½¿ç”¨ï¼Œç”Ÿæˆä¼˜åŒ–åçš„é™æ€æ–‡ä»¶

# æ³¨æ„ï¼šé¡¹ç›®æ— å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œä¸»è¦ä¾é å¼€å‘æœåŠ¡å™¨çƒ­é‡è½½å’Œç±»å‹æ£€æŸ¥
# æ³¨æ„ï¼šClaude ä¸èƒ½è‡ªåŠ¨è¿è¡Œè¿™äº›å‘½ä»¤ï¼Œåªèƒ½å»ºè®®ç”¨æˆ·è¿è¡Œ
```

### æ•…éšœæ’é™¤å‘½ä»¤
```bash
# æ£€æŸ¥å‰ç«¯æœåŠ¡çŠ¶æ€
lsof -ti:4000                       # å‰ç«¯ç«¯å£æ£€æŸ¥

# ç½‘ç»œè¿æ¥æµ‹è¯•
curl http://localhost:4000          # å‰ç«¯æœåŠ¡
curl https://api.gei5.com/health    # è¿œç¨‹åç«¯å¥åº·æ£€æŸ¥ï¼ˆå¦‚æœå¯ç”¨ï¼‰

# å‰ç«¯æ—¥å¿—æŸ¥çœ‹
cd frontend && npm run dev          # å¼€å‘æœåŠ¡å™¨ä¼šæ˜¾ç¤ºå®æ—¶æ—¥å¿—

# æ³¨æ„ï¼šä¸éœ€è¦æ£€æŸ¥æœ¬åœ°åç«¯æœåŠ¡æˆ–æ•°æ®åº“ï¼Œå› ä¸ºä½¿ç”¨è¿œç¨‹æœåŠ¡
```

## å…³é”®å¼€å‘æ¨¡å¼å’Œå·¥ä½œæµç¨‹

### ææ–™çŠ¶æ€ç®¡ç†æ ¸å¿ƒé€»è¾‘
ææ–™çŠ¶æ€é‡‡ç”¨å››é˜¶æ®µå¾ªç¯ï¼Œä¸¥æ ¼æŒ‰é¡ºåºæµè½¬ï¼š
1. **empty** - ç©ºç™½çŠ¶æ€ï¼Œæœªåˆ†é…ç»™ä»»ä½•é¡¹ç›®
2. **pending** - å·²åˆ†é…ä½†æœªå¼€å§‹åŠ å·¥
3. **in_progress** - æ­£åœ¨åŠ å·¥ä¸­
4. **completed** - åŠ å·¥å®Œæˆï¼Œå¯å›æ”¶ä¸ºemptyçŠ¶æ€

```javascript
// çŠ¶æ€åˆ‡æ¢ç¤ºä¾‹
const nextStatus = {
  'empty': 'pending',
  'pending': 'in_progress', 
  'in_progress': 'completed',
  'completed': 'empty'
};
```

### ä»£ç ä¿®æ”¹ç¡®è®¤æµç¨‹
1. **è®¨è®ºé˜¶æ®µ**: åˆ†æéœ€æ±‚ï¼Œè®¨è®ºå®ç°æ–¹æ¡ˆ
2. **æ–¹æ¡ˆç¡®è®¤**: ç­‰å¾…ç”¨æˆ·æ˜ç¡®ç¡®è®¤ï¼š"å¼€å§‹å®ç°"æˆ–"ç¡®è®¤ä¿®æ”¹" 
3. **å®æ–½é˜¶æ®µ**: æ”¶åˆ°ç¡®è®¤åè¿›è¡Œä»£ç ä¿®æ”¹
4. **çŠ¶æ€åŒæ­¥**: ä¿®æ”¹åè§¦å‘ç›¸åº”çš„æ›´æ–°äº‹ä»¶

### APIè¯·æ±‚æ ‡å‡†æ¨¡å¼
```javascript
// å‰ç«¯APIè¯·æ±‚æ ‡å‡†æ ¼å¼
const response = await apiRequest('/api/projects', {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  }
});
// å¤„ç†å“åº”æ ¼å¼
const data = response.projects || response;
```

### ç»„ä»¶å¼€å‘çº¦å®š
- åŸºäº `components/ui/` ä¸­çš„åŸºç¡€ç»„ä»¶æ„å»º
- ä½¿ç”¨ @heroicons/react å›¾æ ‡ï¼Œç¦ç”¨emoji
- éµå¾ª iOS 18 & macOS 15 è®¾è®¡è§„èŒƒ
- ä¸­æ–‡æ³¨é‡Šå’Œå˜é‡å‘½å

### æ™ºèƒ½Toastç³»ç»Ÿä½¿ç”¨æ¨¡å¼
Toastç³»ç»Ÿæ”¯æŒä¸“ä¸šåŒ–æç¤ºå’ŒAIé©±åŠ¨çš„æ™ºèƒ½å»ºè®®ï¼š

```javascript
// é¡¹ç›®ç›¸å…³Toast
import { projectToastHelper } from '@/utils/projectToastHelper';
projectToastHelper.projectCreated(projectName, workerName);
projectToastHelper.projectUpdated(projectName);

// ææ–™æ“ä½œToast  
import { materialToastHelper } from '@/utils/materialToastHelper';
materialToastHelper.statusChanged(materialType, oldStatus, newStatus);
materialToastHelper.batchOperationComplete(message);

// æ™ºèƒ½å»ºè®®å¼•æ“
import { useSmartSuggestions } from '@/utils/smartSuggestionEngine';
const { start, updateMetrics } = useSmartSuggestions({ autoStart: true });
updateMetrics({ totalProjects: 50, carbonMaterialRatio: 92 });
```

### è€ƒå‹¤ç³»ç»Ÿå¼€å‘çº¦å®š
```javascript
// è€ƒå‹¤çŠ¶æ€ç®¡ç†
import { useAttendanceStore } from '@/stores/attendanceStore';
const { employees, addException, calculateMonthlySummary } = useAttendanceStore();

// è€ƒå‹¤æ•°æ®å¯¼å‡º
import { exportMonthlyAttendanceReport } from '@/utils/attendanceExporter';
await exportMonthlyAttendanceReport(2025, 1); // å¯¼å‡º2025å¹´1æœˆæŠ¥è¡¨
```

### æ•°æ®åº“æ“ä½œçº¦å®š
```bash
# è€ƒå‹¤ç³»ç»Ÿæ•°æ®åº“åˆå§‹åŒ–
mysql -h localhost -P 3330 -u laser_user -p < database/migrations/attendance_system.sql

# è®¡ç®—æœˆåº¦è€ƒå‹¤æ±‡æ€»ï¼ˆå­˜å‚¨è¿‡ç¨‹ï¼‰
CALL sp_calculate_monthly_attendance(2025, 1);

# æŸ¥çœ‹è€ƒå‹¤çŠ¶æ€è§†å›¾
SELECT * FROM v_employee_attendance_status;
SELECT * FROM v_monthly_attendance_stats;
```


## æ•°æ®åº“ç»“æ„

### ä¸»è¦æ•°æ®è¡¨
- **users** (id, name, role) - ç”¨æˆ·è®¤è¯
- **workers** (id, name, phone, email, department, position) - å·¥äººä¿¡æ¯  
- **projects** (id, name, status, priority, assigned_worker_id, created_by) - é¡¹ç›®ç®¡ç†
- **thickness_specs** (id, thickness, unit, material_type, is_active) - åšåº¦è§„æ ¼é…ç½®
- **materials** (id, project_id, thickness_spec_id, status, completed_by) - æ¿æçŠ¶æ€
- **drawings** (id, project_id, filename, file_path, version, uploaded_by) - å›¾çº¸æ–‡ä»¶

### è€ƒå‹¤ç³»ç»Ÿæ•°æ®è¡¨ (æ–°å¢)
- **employees** (id, employee_id, name, department, position, daily_work_hours, status) - å‘˜å·¥åŸºç¡€ä¿¡æ¯
- **attendance_exceptions** (id, employee_id, date, exception_type, leave_type, leave_hours, overtime_hours) - è€ƒå‹¤å¼‚å¸¸è®°å½•
- **attendance_settings** (id, setting_key, setting_value, description) - è€ƒå‹¤ç³»ç»Ÿè®¾ç½®
- **monthly_attendance_summary** (id, employee_id, year, month, work_days, total_work_hours, attendance_rate) - æœˆåº¦è€ƒå‹¤æ±‡æ€»
- **attendance_approvals** (id, attendance_exception_id, approver_id, status, approval_reason) - è€ƒå‹¤å®¡æ‰¹æµç¨‹
- **annual_leave_balance** (id, employee_id, year, total_hours, used_hours, remaining_hours) - å¹´å‡ä½™é¢ç®¡ç†

### æ•°æ®åº“å‡­æ®
- æ•°æ®åº“: laser_cutting_db
- ç”¨æˆ·: laser_user  
- å¯†ç : laser_pass
- Rootå¯†ç : root123456


## å¸¸è§é—®é¢˜å’Œæ•…éšœæ’é™¤

### æœåŠ¡å¯åŠ¨é—®é¢˜
**é—®é¢˜**: å‰ç«¯æˆ–åç«¯æ— æ³•å¯åŠ¨
```bash
# è¯Šæ–­æ­¥éª¤
1. æ£€æŸ¥ç«¯å£å ç”¨: lsof -ti:4000 lsof -ti:35001
2. æ£€æŸ¥DockeræœåŠ¡: docker ps
3. æ£€æŸ¥æ—¥å¿—: docker-compose logs
4. é‡å¯æœåŠ¡: docker-compose restart
```

### APIè¿æ¥é—®é¢˜
**ç—‡çŠ¶**: 401é”™è¯¯ã€è¿æ¥å¤±è´¥ã€CORSé—®é¢˜
```bash
# è§£å†³æ–¹æ¡ˆ
1. ç¡®è®¤JWT tokenæœ‰æ•ˆæ€§
2. æ£€æŸ¥å‰ç«¯æœåŠ¡çŠ¶æ€: curl http://localhost:4000
3. æ£€æŸ¥ç¯å¢ƒå˜é‡: NEXT_PUBLIC_BACKEND_URL=https://api.gei5.com
4. ç¡®è®¤APIç«¯ç‚¹è·¯å¾„æ­£ç¡®: /api/projects è€Œé /projects
```

### å‰ç«¯æœåŠ¡é—®é¢˜
**ç—‡çŠ¶**: å‰ç«¯æ— æ³•å¯åŠ¨ã€é¡µé¢æ— æ³•è®¿é—®
```bash
# è§£å†³æ­¥éª¤
1. æ£€æŸ¥ç«¯å£å ç”¨: lsof -ti:4000
2. é‡å¯å‰ç«¯æœåŠ¡: cd frontend && npm run dev
3. æ¸…ç†ç¼“å­˜: rm -rf .next && npm run dev
4. æ£€æŸ¥Node.jsç‰ˆæœ¬å…¼å®¹æ€§
```

### çŠ¶æ€åŒæ­¥é—®é¢˜
**ç—‡çŠ¶**: æ•°æ®ä¸æ›´æ–°ã€ç»„ä»¶ä¸åŒæ­¥
```javascript
// æ£€æŸ¥è¦ç‚¹
1. ç¡®è®¤äº‹ä»¶è§¦å‘: window.dispatchEvent(new CustomEvent('materials-updated'))
2. ç¡®è®¤äº‹ä»¶ç›‘å¬: window.addEventListener('materials-updated', handler)
3. ç¡®è®¤Storeæ›´æ–°: useProjectStore.getState().fetchProjects()
4. é¿å…WebSocketï¼Œä½¿ç”¨Zustand+äº‹ä»¶
```

## ç³»ç»Ÿæ–°å¢åŠŸèƒ½æ¨¡å—

### è€ƒå‹¤ç®¡ç†ç³»ç»Ÿ (æ–°å¢)
- **åŠŸèƒ½æè¿°**: å‘˜å·¥è€ƒå‹¤ç®¡ç†ã€è¯·å‡å®¡æ‰¹ã€åŠ ç­ç»Ÿè®¡ã€æœˆåº¦æŠ¥è¡¨
- **æ•°æ®åº“è¡¨**: employees, attendance_exceptions, attendance_settings, monthly_attendance_summary, attendance_approvals, annual_leave_balance
- **å‰ç«¯ç»„ä»¶**: `frontend/components/attendance/` - å®Œæ•´çš„è€ƒå‹¤ç®¡ç†ç•Œé¢
- **çŠ¶æ€ç®¡ç†**: `frontend/stores/attendanceStore.ts` - è€ƒå‹¤æ•°æ®çŠ¶æ€ç®¡ç†
- **ç±»å‹å®šä¹‰**: `frontend/types/attendance.ts` - è€ƒå‹¤ç›¸å…³ç±»å‹
- **å·¥å…·å‡½æ•°**: `frontend/utils/attendanceExporter.ts` - è€ƒå‹¤æ•°æ®å¯¼å‡ºåŠŸèƒ½
- **æ•°æ®åº“è„šæœ¬**: `database/migrations/attendance_system.sql` - è€ƒå‹¤ç³»ç»Ÿå®Œæ•´æ•°æ®åº“ç»“æ„

### Toastæ™ºèƒ½æç¤ºç³»ç»Ÿ (æ–°å¢)
- **æ™ºèƒ½æç¤ºå¼•æ“**: `frontend/utils/smartSuggestionEngine.ts` - AIé©±åŠ¨çš„ä¸šåŠ¡æ´å¯Ÿå’Œå»ºè®®
- **ä¸“ä¸šåŒ–ToaståŠ©æ‰‹**:
  - `frontend/utils/projectToastHelper.ts` - é¡¹ç›®ç›¸å…³æç¤º
  - `frontend/utils/materialToastHelper.ts` - ææ–™æ“ä½œæç¤º
  - `frontend/utils/workerToastHelper.ts` - å·¥äººç®¡ç†æç¤º
  - `frontend/utils/drawingToastHelper.ts` - å›¾çº¸ç®¡ç†æç¤º
  - `frontend/utils/batchOperationToastHelper.ts` - æ‰¹é‡æ“ä½œæç¤º
- **Toastä¼˜åŒ–**:
  - `frontend/utils/toastAnimationOptimizer.ts` - åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–
  - `frontend/utils/toastAccessibility.ts` - æ— éšœç¢è®¿é—®æ”¯æŒ
  - `frontend/utils/sseToastMapper.ts` - SSEäº‹ä»¶åˆ°Toastæ˜ å°„

### ç§»åŠ¨ç«¯ä¸“ç”¨ç»„ä»¶ (æ–°å¢)
- **StatCardSwiper**: ç§»åŠ¨ç«¯ç»Ÿè®¡å¡ç‰‡è½®æ’­ç»„ä»¶ï¼Œæ”¯æŒè§¦æ‘¸æ»‘åŠ¨æµè§ˆç»Ÿè®¡æ•°æ®
- **MobileEmployeeCard**: ç§»åŠ¨ç«¯å‘˜å·¥å¡ç‰‡ç»„ä»¶ï¼Œå¡ç‰‡å¼å‘˜å·¥ä¿¡æ¯å±•ç¤ºï¼Œè§¦æ‘¸å‹å¥½çš„å¤§æŒ‰é’®
- **MobileFormWizard**: ç§»åŠ¨ç«¯åˆ†æ­¥è¡¨å•å‘å¯¼ï¼Œå¤æ‚è¡¨å•æ‹†åˆ†ä¸ºå¤šæ­¥éª¤ï¼Œé™ä½è®¤çŸ¥è´Ÿæ‹…
- **MobileStatsOverview**: ç§»åŠ¨ç«¯ç»Ÿè®¡æ¦‚è§ˆç»„ä»¶ï¼Œç´§å‡‘çš„ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º

### å…¨å±€æœç´¢å¢å¼º (v2.4.0æ–°å¢)
- **è€ƒå‹¤æ¨¡å—æœç´¢**: æ”¯æŒæŒ‰è¯·å‡ã€åŠ ç­ã€ç¼ºå‹¤ç­‰ç±»å‹æœç´¢è€ƒå‹¤å¼‚å¸¸è®°å½•
- **ä¸­æ–‡å…³é”®è¯æ˜ å°„**: è¯·å‡â†’leaveã€åŠ ç­â†’overtimeã€ç¼ºå‹¤â†’absentç­‰è‡ªåŠ¨è½¬æ¢
- **æ™ºèƒ½æœç´¢ç»“æœ**: æŒ‰åŸå› æœç´¢å’ŒæŒ‰å‘˜å·¥æœç´¢çš„åŒé‡æœºåˆ¶ï¼Œæ”¯æŒå¹¶è¡ŒæŸ¥è¯¢å’Œç»“æœåˆå¹¶
- **æœç´¢ç»“æœå¯¼èˆª**: ä»æœç´¢ç»“æœç›´æ¥è·³è½¬åˆ°å¯¹åº”æ¨¡å—ï¼ˆè€ƒå‹¤ã€é¡¹ç›®ã€ææ–™ç­‰ï¼‰

## å…³é”®æ–‡ä»¶ä½ç½®

### æ ¸å¿ƒçŠ¶æ€ç®¡ç†
- `frontend/stores/projectStore.ts` - é¡¹ç›®æ•°æ®ç®¡ç†
- `frontend/stores/materialStore.ts` - ææ–™çŠ¶æ€ç®¡ç†  
- `frontend/stores/attendanceStore.ts` - è€ƒå‹¤ç³»ç»ŸçŠ¶æ€ç®¡ç† (æ–°å¢)
- `frontend/stores/globalSyncStore.ts` - å…¨å±€åŒæ­¥
- `frontend/stores/notificationStore.ts` - é€šçŸ¥ç³»ç»Ÿ

### æ ¸å¿ƒAPIæ–‡ä»¶
- `frontend/utils/api.ts` - APIè¯·æ±‚ç»Ÿä¸€ç®¡ç†
- `backend/src/routes/` - APIè·¯ç”±å®šä¹‰
- `backend/src/models/` - æ•°æ®æ¨¡å‹
- `backend/src/middleware/auth.js` - JWTè®¤è¯

### æ ¸å¿ƒUIç»„ä»¶
- `frontend/components/ui/StatusIndicator.tsx` - å››çŠ¶æ€åˆ‡æ¢ç»„ä»¶
- `frontend/components/layout/VSCodeLayout.tsx` - ä¸»å¸ƒå±€å®¹å™¨
- `frontend/components/layout/ActivityBar.tsx` - æ´»åŠ¨æ å¯¼èˆª
- `frontend/components/materials/MaterialInventoryManagerNew.tsx` - ä¸»æ•°æ®è¡¨æ ¼
- `frontend/components/ui/ModernTable.tsx` - é€šç”¨è¡¨æ ¼ç»„ä»¶
- `frontend/components/ui/DxfPreviewModal.tsx` - DXFæ–‡ä»¶é¢„è§ˆç»„ä»¶
- `frontend/components/attendance/` - è€ƒå‹¤ç®¡ç†ç»„ä»¶åº“ (æ–°å¢)

### æ™ºèƒ½ç³»ç»Ÿæ–‡ä»¶
- `frontend/utils/smartSuggestionEngine.ts` - AIæ™ºèƒ½æç¤ºå¼•æ“ (æ–°å¢)
- `frontend/utils/*ToastHelper.ts` - ä¸“ä¸šåŒ–ToaståŠ©æ‰‹é›†åˆ (æ–°å¢)
- `frontend/utils/toastAnimationOptimizer.ts` - Toastæ€§èƒ½ä¼˜åŒ– (æ–°å¢)

### Excelå¯¼å‡ºå·¥å…· (ExcelJSç‰ˆæœ¬)
- `frontend/utils/projectReportExporter.ts` - é¡¹ç›®æŠ¥è¡¨å¯¼å‡ºï¼ˆå¤šå·¥ä½œè¡¨ã€ä¸“ä¸šæ ·å¼ï¼‰
- `frontend/utils/attendanceExporter.ts` - è€ƒå‹¤æŠ¥è¡¨å¯¼å‡ºï¼ˆå½©è‰²æ¡ä»¶æ ¼å¼ã€éƒ¨é—¨æ±‡æ€»ï¼‰

### æ ¸å¿ƒé…ç½®æ–‡ä»¶
- `frontend/.env.local` - å‰ç«¯ç¯å¢ƒé…ç½®ï¼ˆè¿œç¨‹åç«¯URLé…ç½®ï¼‰
- `frontend/next.config.js` - Next.jså¼€å‘é…ç½®ï¼ˆæ ‡å‡†æ¨¡å¼ï¼Œéexportï¼‰
- `frontend/tailwind.config.js` - iOS 18/macOS 15 è®¾è®¡ç³»ç»Ÿé…ç½®
- `frontend/utils/envConfig.ts` - ç¯å¢ƒé…ç½®ç®¡ç†ï¼ˆæ”¯æŒè¿œç¨‹APIè¿æ¥ï¼‰
- `frontend/utils/api.ts` - APIè¯·æ±‚ç»Ÿä¸€ç®¡ç†ï¼ˆè¿œç¨‹åç«¯è¿æ¥ï¼‰

### ç§»åŠ¨ç«¯ç»„ä»¶
- `frontend/components/ui/StatCardSwiper.tsx` - å“åº”å¼ç»Ÿè®¡å¡ç‰‡è½®æ’­ç»„ä»¶
- `frontend/components/ui/MobileEmployeeCard.tsx` - ç§»åŠ¨ç«¯å‘˜å·¥å¡ç‰‡ç»„ä»¶
- `frontend/components/ui/MobileFormWizard.tsx` - ç§»åŠ¨ç«¯åˆ†æ­¥è¡¨å•å‘å¯¼
- `frontend/app/mobile-test/page.tsx` - ç§»åŠ¨ç«¯ç»„ä»¶æµ‹è¯•é¡µé¢

### ç‰ˆæœ¬å†å²
- **å½“å‰ç‰ˆæœ¬**: v2.6.1 (2025-08-21) - æµ‹è¯•é¡µé¢æ¸…ç†ä¸æ„å»ºé”™è¯¯ä¿®å¤
- **v2.6.1 å…³é”®ä¿®å¤**:
  - **ğŸ§¹ ä»£ç æ¸…ç†**:
    - åˆ é™¤æ‰€æœ‰æµ‹è¯•é¡µé¢ï¼ˆadvanced-dxf-test, button-test, drawings-table, simple-testï¼‰
    - åˆ é™¤ä¸´æ—¶æ–‡æ¡£å’Œè„šæœ¬æ–‡ä»¶ï¼Œä¿æŒä»£ç åº“æ•´æ´
    - æ¸…ç†åºŸå¼ƒçš„DXFéƒ¨ç½²æ£€æŸ¥æ¸…å•å’Œé¡¹ç›®æœç´¢å¯¼å‡ºæŒ‡å—
  - **ğŸ”§ æ„å»ºé”™è¯¯ä¿®å¤**:
    - ä¿®å¤MobileDrawingListä¸­ç¼ºå¤±çš„handleAdvancedPreviewå‡½æ•°å¼•ç”¨
    - æ·»åŠ FireIconå¯¼å…¥ï¼Œè§£å†³å›¾æ ‡ç¼ºå¤±é—®é¢˜
    - ä¿®å¤ProjectDetailModernä¸­ç¼ºå¤±çš„onAdvancedPreviewDrawingå±æ€§
    - ä¿®å¤DxfDataAnalyzerä¸­dxf-viewerçš„workerFactoryå±æ€§
    - ä¿®å¤attendanceExporterä¸­çš„TypeScriptç±»å‹é”™è¯¯
  - **âœ… æ„å»ºéªŒè¯**:
    - å‰ç«¯æ„å»ºæˆåŠŸé€šè¿‡ï¼Œæ— TypeScripté”™è¯¯
    - ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡ï¼Œé¡¹ç›®å¤„äºç¨³å®šçŠ¶æ€
    - åˆ é™¤ä¾èµ–ç¼ºå¤±å’Œæ¨¡å—è§£æé”™è¯¯
- **v2.6.0 é‡å¤§æ›´æ–°**:
  - **ğŸ”„ DXFé¢„è§ˆç³»ç»Ÿé‡æ„ (BREAKING CHANGE)**:
    - **å…¨é¢æ›¿æ¢é¢„è§ˆç»„ä»¶**ï¼šå°†æ‰€æœ‰DxfPreviewModalæ›¿æ¢ä¸ºAdvancedDxfModalé«˜çº§é¢„è§ˆ
    - **ç»Ÿä¸€é¢„è§ˆä½“éªŒ**ï¼šç”¨æˆ·ç°åœ¨äº«å—ä¸€è‡´çš„ä¸“ä¸šçº§CADé¢„è§ˆä½“éªŒï¼Œæ— è®ºä»å“ªä¸ªå…¥å£è®¿é—®
    - **ç•Œé¢ç®€åŒ–**ï¼šç§»é™¤æ··æ·†çš„"æ™®é€šé¢„è§ˆ"ä¸"é«˜çº§é¢„è§ˆ"ä¹‹åˆ†ï¼Œåªä¿ç•™ä¸€ä¸ªé¢„è§ˆæŒ‰é’®
    - **åŠŸèƒ½å®Œæ•´æ€§**ï¼šé›†æˆä¸‹è½½åŠŸèƒ½ã€è¯¦ç»†å›¾çº¸ä¿¡æ¯ã€æŠ€æœ¯ç»Ÿè®¡äºä¸€ä½“
  - **ğŸ¨ ç”¨æˆ·ä½“éªŒå¤§å¹…æå‡**:
    - **æ–‡ä»¶åæ˜¾ç¤ºä¼˜åŒ–**ï¼šæ”¯æŒoriginalFilenameå’ŒoriginalNameåŒå­—æ®µå…¼å®¹
    - **ä¿¡æ¯é¢æ¿å¢å¼º**ï¼šæ˜¾ç¤ºä¸»æ–‡ä»¶åã€ç³»ç»Ÿæ–‡ä»¶åã€ç‰ˆæœ¬ä¿¡æ¯ã€ä¸Šä¼ è€…ç­‰å®Œæ•´ä¿¡æ¯
    - **ä¸‹è½½åŠŸèƒ½é›†æˆ**ï¼šåœ¨é¢„è§ˆç•Œé¢ç›´æ¥æä¾›ä¸‹è½½æŒ‰é’®ï¼Œæ“ä½œæ›´ä¾¿æ·
    - **CADé£æ ¼ç•Œé¢**ï¼šæ·±è‰²ä¸»é¢˜ã€ä¸“ä¸šå·¥å…·æ ã€çŠ¶æ€æŒ‡ç¤ºå™¨ç­‰CADè½¯ä»¶ä½“éªŒ
  - **âš¡ æŠ€æœ¯æ¶æ„ä¼˜åŒ–**:
    - **ç»„ä»¶å¤ç”¨æ€§æå‡**ï¼šç§»é™¤DrawingTableViewä¸­çš„é‡å¤é«˜çº§é¢„è§ˆæŒ‰é’®å’Œç›¸å…³é€»è¾‘
    - **æ¥å£ç»Ÿä¸€åŒ–**ï¼šç»Ÿä¸€Drawingæ¥å£å®šä¹‰ï¼Œæ”¯æŒå¤šç§æ•°æ®æ¥æºçš„å…¼å®¹æ€§
    - **ä»£ç æ¸…ç†**ï¼šåˆ é™¤4ä¸ªæ–‡ä»¶ä¸­çš„DxfPreviewModalå¼•ç”¨ï¼Œå‡å°‘ä»£ç å†—ä½™
    - **å­—ä½“ç¼“å­˜ä¿æŒ**ï¼šå®Œå…¨å…¼å®¹ç°æœ‰DxfFontCacheå­—ä½“é¢„åŠ è½½æœºåˆ¶
  - **ğŸ”§ å‘åå…¼å®¹å¤„ç†**:
    - **æ•°æ®é€‚é…**ï¼šè‡ªåŠ¨é€‚é…DrawingLibraryçš„originalNameå­—æ®µå’ŒDrawingTableçš„originalFilenameå­—æ®µ
    - **APIä¿æŒä¸å˜**ï¼šåç«¯æ¥å£æ— éœ€ä»»ä½•ä¿®æ”¹ï¼Œå‰ç«¯å®Œå…¨å‘ä¸‹å…¼å®¹
    - **æ€§èƒ½ç»´æŒ**ï¼šä¿æŒç›¸åŒçš„å­—ä½“ç¼“å­˜å’Œæ¸²æŸ“æ€§èƒ½ä¼˜åŒ–
- **v2.5.5 ä¸»è¦æ›´æ–°**:
  - **ğŸ§¹ ä»£ç æ¸…ç†**:
    - åˆ é™¤åºŸå¼ƒçš„EnterpriseDxfViewerå’ŒModernDxfViewerç»„ä»¶
    - ç»Ÿä¸€DXFé¢„è§ˆåŠŸèƒ½åˆ°DxfPreviewModalç»„ä»¶
    - æ¸…ç†CLAUDE.mdæ–‡æ¡£ä¸­çš„è¿‡æ—¶ç»„ä»¶å¼•ç”¨
    - ç®€åŒ–DXFé¢„è§ˆç³»ç»Ÿæ¶æ„
  - **ğŸ“Š æŠ¥è¡¨ç³»ç»Ÿä¼˜åŒ–**:
    - ä¼˜åŒ–é¡¹ç›®æŠ¥è¡¨å¯¼å‡ºåŠŸèƒ½ï¼Œä¿®å¤å‡½æ•°è°ƒç”¨
    - æ”¹è¿›è€ƒå‹¤è¡¨æ ¼å¸ƒå±€ï¼Œä½¿ç”¨CSSå®ç°å‘˜å·¥åˆ—å›ºå®š
    - æå‡ç§»åŠ¨ç«¯è¡¨æ ¼ä½“éªŒ
  - **âš¡ æ€§èƒ½æå‡**:
    - å‡å°‘ä»£ç å†—ä½™ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
    - ä¼˜åŒ–å­—ä½“ç¼“å­˜ç³»ç»Ÿæ€§èƒ½
    - æ¸…ç†æ— ç”¨çš„dxf-parserä¾èµ–å¼•ç”¨
- **v2.5.4 å…³é”®ä¿®å¤**:
  - **ğŸ”§ å­—ä½“é¢„åŠ è½½æœºåˆ¶ä¿®å¤**:
    - ä¿®å¤å­—ä½“ç¼“å­˜é€»è¾‘é”™è¯¯ï¼šä¹‹å‰åªç¼“å­˜ArrayBufferä½†ä»ä½¿ç”¨åŸå§‹URL
    - å®ç°Blob URLæœºåˆ¶ï¼šå°†ç¼“å­˜çš„ArrayBufferè½¬ä¸ºå¯ç”¨çš„Blob URL
    - DXFæŸ¥çœ‹å™¨ç°åœ¨çœŸæ­£ä½¿ç”¨å†…å­˜ç¼“å­˜çš„å­—ä½“ï¼Œé¿å…é‡å¤ç½‘ç»œè¯·æ±‚
    - æ·»åŠ å†…å­˜ç®¡ç†ï¼šæ¸…ç†æ—¶é‡Šæ”¾Blob URLé˜²æ­¢å†…å­˜æ³„æ¼
  - **âš¡ æ€§èƒ½æå‡**:
    - é¦–æ¬¡é¢„åŠ è½½åï¼Œåç»­DXFæ–‡ä»¶æ‰“å¼€0ç½‘ç»œå­—ä½“è¯·æ±‚
    - çœŸæ­£å®ç°å­—ä½“ç¼“å­˜ï¼Œå¤§å¹…æå‡å›¾çº¸åŠ è½½é€Ÿåº¦
    - æ·»åŠ é™çº§ç­–ç•¥ï¼šç¼“å­˜å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°åŸå§‹URL
- **v2.5.3 ä¸»è¦æ›´æ–°**:
  - **ğŸ¨ DXFå­—ä½“é¢„åŠ è½½ç³»ç»Ÿ**:
    - å®ç°DxfFontCacheå•ä¾‹æ¨¡å¼å­—ä½“ç¼“å­˜ç®¡ç†ï¼Œé¿å…é‡å¤åŠ è½½å­—ä½“æ–‡ä»¶
    - åº”ç”¨å¯åŠ¨æ—¶é¢„åŠ è½½DXFå­—ä½“ï¼ˆNotoSansSC-Thin.ttfï¼‰ï¼Œæå‡å›¾çº¸æ‰“å¼€é€Ÿåº¦
    - å­—ä½“é¢„åŠ è½½æ—¶é—´çº¦280msï¼Œå¤§å¹…å‡å°‘åç»­DXFæ–‡ä»¶åŠ è½½ç­‰å¾…æ—¶é—´
    - ä½¿ç”¨requestIdleCallbackä¼˜åŒ–å­—ä½“åŠ è½½æ—¶æœºï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹
  - **ğŸ› ç•Œé¢å¸ƒå±€ä¿®å¤**:
    - ä¿®å¤å›¾çº¸è¡¨æ ¼é«˜åº¦é™åˆ¶é—®é¢˜ï¼Œæ”¹ç”¨flexå¸ƒå±€å æ»¡å¯ç”¨ç©ºé—´
    - ä¿®å¤ä¾§è¾¹æ ä¸ä¸»åˆ—è¡¨å›¾çº¸æ•°é‡ä¸ä¸€è‡´é—®é¢˜ï¼ˆåç«¯APIåˆ†é¡µé™åˆ¶ï¼‰
    - ä¿®å¤å½’æ¡£å›¾çº¸ç»Ÿè®¡APIå‚æ•°é”™è¯¯ï¼ˆstatus=archived â†’ category=archivedï¼‰
    - ä¸ºè¡¨æ ¼åº•éƒ¨æ·»åŠ é€‚å½“é—´éš™ï¼Œä¼˜åŒ–è§†è§‰ä½“éªŒ
  - **âš¡ æ€§èƒ½ä¼˜åŒ–**:
    - ç»Ÿä¸€APIè¯·æ±‚æ·»åŠ limit=1000å‚æ•°ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§
    - ä¼˜åŒ–ModernDxfViewerå’ŒDxfPreviewModalå­—ä½“é…ç½®
    - æ¸…ç†è°ƒè¯•ä»£ç ï¼Œæå‡ç”Ÿäº§ç¯å¢ƒæ€§èƒ½
- **v2.5.2 é‡å¤§æ›´æ–°**:
  - **ğŸš€ ä¼ä¸šçº§DXFé¢„è§ˆç³»ç»Ÿ**:
    - WebAssemblyçº§é«˜æ€§èƒ½DXFè§£æå¼•æ“ï¼Œæ”¯æŒå¤šåˆ†è¾¨ç‡é¢„è§ˆå›¾ç”Ÿæˆ
    - æ™ºèƒ½ç¼“å­˜ç®¡ç†ç³»ç»Ÿï¼ˆå†…å­˜+æ–‡ä»¶åŒé‡ç¼“å­˜ï¼Œ30åˆ†é’Ÿå†…å­˜ç¼“å­˜+1å°æ—¶æ–‡ä»¶ç¼“å­˜ï¼‰
    - å®æ—¶å›¾å±‚æ§åˆ¶å’Œå®ä½“åˆ†æåŠŸèƒ½ï¼Œç²¾ç¡®è¾¹ç•Œæ¡†è®¡ç®—å’Œå…ƒæ•°æ®æå–
    - å®Œæ•´çš„REST APIç«¯ç‚¹æ”¯æŒï¼š/api/enterprise-dxf/* ä¼ä¸šçº§DXFé¢„è§ˆAPIè·¯ç”±
    - ä¼ä¸šçº§æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡ï¼Œå¥åº·æ£€æŸ¥API
  - **ğŸ¨ å‰ç«¯é¢„è§ˆç³»ç»Ÿé‡æ„**:
    - DXFé¢„è§ˆç»„ä»¶(DxfPreviewModal)ï¼ŒåŸºäºdxf-viewerçš„æ¸²æŸ“å¼•æ“
    - å®æ—¶å›¾å±‚å¯è§æ€§æ§åˆ¶ï¼Œè´¨é‡æ¨¡å¼æ™ºèƒ½åˆ‡æ¢ï¼Œæ€§èƒ½ç»Ÿè®¡æ˜¾ç¤º
    - å‰åç«¯åˆ†ç¦»æ¶æ„ä¼˜åŒ–ï¼Œè¿œç¨‹åç«¯APIè¿æ¥ä¼˜åŒ–
  - **âš¡ æŠ€æœ¯æ¶æ„å‡çº§**:
    - ä¼ä¸šçº§é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•ç³»ç»Ÿ
    - æ™ºèƒ½ç¼“å­˜ç­–ç•¥å’Œæ€§èƒ½ç›‘æ§
    - DXFæ–‡ä»¶é«˜æ€§èƒ½è§£ææœåŠ¡(dxf-parser + Canvas)
- **v2.5.1** (2025-01-18) - ç•Œé¢ä¼˜åŒ–ä¸ç³»ç»Ÿç®€åŒ–
- **v2.5.0** (2025-01-18) - æ¿æåˆ†é…ç³»ç»Ÿæ¶æ„é‡æ„ä¸ç§»åŠ¨ç«¯ä½“éªŒå‡çº§
- **v2.5.0 é‡å¤§æ›´æ–°**:
  - **ğŸ”§ æ¶æ„é‡æ„ (BREAKING ARCHITECTURE)**:
    - æ•°æ®æ¨¡å‹ç°ä»£åŒ–ï¼šå®Œå…¨ç§»é™¤WorkerMaterial.quantityå­—æ®µï¼Œæ”¹ç”¨MaterialDimensionåŠ¨æ€è®¡ç®—
    - APIæ¥å£é‡æ„ï¼šworker-materialsã€materialsã€material-requirementsç­‰æ ¸å¿ƒæ¥å£å…¨é¢å‡çº§
    - ç³»ç»Ÿé›†æˆç®€åŒ–ï¼šç»Ÿä¸€ä½¿ç”¨Material.assignedFromWorkerMaterialIdå­—æ®µç®¡ç†åˆ†é…å…³ç³»
  - **ğŸ“± ç§»åŠ¨ç«¯ä½“éªŒé‡æ„**:
    - å“åº”å¼è®¾è®¡å…¨é¢é‡æ„ï¼šé¡¹ç›®è¯¦æƒ…é¡µé¢ã€æ¿æåˆ†é…ç•Œé¢å®Œå…¨é€‚é…ç§»åŠ¨ç«¯
    - ç•Œé¢å¸ƒå±€ç°ä»£åŒ–ï¼šè¡¨æ ¼å¼å¸ƒå±€æ›¿ä»£å¡ç‰‡å¼ï¼Œå¤§å¹…æå‡ç©ºé—´åˆ©ç”¨ç‡
    - äº¤äº’ä¸€è‡´æ€§ï¼šçŠ¶æ€åˆ‡æ¢æŒ‰é’®ç»Ÿä¸€è®¾è®¡è§„èŒƒï¼Œæå‡ç”¨æˆ·ä½“éªŒ
  - **ğŸ—„ï¸ æ•°æ®ç³»ç»Ÿå‡çº§**:
    - å€Ÿç”¨è¯¦æƒ…ç³»ç»Ÿé‡æ„ï¼šä½¿ç”¨æ–°åˆ†é…ç³»ç»Ÿæ›¿ä»£åºŸå¼ƒçš„MaterialRequirementæ¶æ„  
    - æ•°æ®ä¸€è‡´æ€§ä¼˜åŒ–ï¼šç®€åŒ–éªŒè¯é€»è¾‘ï¼Œç§»é™¤å†—ä½™æ•°æ®åŒæ­¥æœºåˆ¶
    - æ•°æ®åº“æ¸…ç†ï¼šç§»é™¤7ä¸ªåºŸå¼ƒè¿ç§»æ–‡ä»¶ï¼Œä¼˜åŒ–é¡¹ç›®ç»“æ„
  - **ğŸš€ æ€§èƒ½ä¸ç¨³å®šæ€§**:
    - åº“å­˜è®¡ç®—ä¼˜åŒ–ï¼šå®æ—¶ä»MaterialDimensionè®¡ç®—ï¼Œç¡®ä¿æ•°æ®å‡†ç¡®æ€§
    - APIå“åº”æ”¹è¿›ï¼šå‡å°‘æ•°æ®å†—ä½™ï¼Œæå‡æ¥å£æ€§èƒ½
    - é”™è¯¯å¤„ç†å¢å¼ºï¼šå®Œå–„å¼‚å¸¸æ•è·å’Œç”¨æˆ·åé¦ˆæœºåˆ¶
- **v2.4.12** (2025-08-17) - é¡¹ç›®ç¼–è¾‘æ¿ææ·»åŠ åŠŸèƒ½ä¿®å¤
- **v2.4.12 ä¸»è¦æ›´æ–°**:
  - **é¡¹ç›®ç¼–è¾‘åŠŸèƒ½ä¿®å¤**: å®Œå…¨ä¿®å¤é¡¹ç›®ç¼–è¾‘æ—¶æ— æ³•æ·»åŠ æ–°æ¿æåšåº¦çš„é—®é¢˜
    - åç«¯APIæ”¯æŒï¼šæ›´æ–°é¡¹ç›®APIç°åœ¨æ­£ç¡®å¤„ç† `requiredThickness` å­—æ®µ
    - åŠ¨æ€ææ–™åˆ›å»ºï¼šä¸ºæ–°é€‰æ‹©çš„åšåº¦è§„æ ¼è‡ªåŠ¨åˆ›å»ºé¡¹ç›®ææ–™è®°å½•
    - å·¥äººåº“å­˜ç®¡ç†ï¼šç¡®ä¿å·¥äººæ‹¥æœ‰å¯¹åº”åšåº¦çš„ææ–™åº“å­˜è®°å½•
    - å‰ç«¯éªŒè¯ä¼˜åŒ–ï¼šç¼–è¾‘æ¨¡å¼ä¸‹æ”¾å®½éªŒè¯é™åˆ¶ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
  - **æ•°æ®å®Œæ•´æ€§ä¿éšœ**: æ–°æ·»åŠ çš„æ¿æä¼šæ­£ç¡®å…³è”åˆ°é¡¹ç›®å’Œå·¥äºº
  - **é”™è¯¯ä¿®å¤**: è§£å†³äº†500å†…éƒ¨æœåŠ¡å™¨é”™è¯¯ï¼Œä¿®å¤äº†æ¨¡å‹å¯¼å…¥é—®é¢˜
  - **ç”¨æˆ·ä½“éªŒæå‡**: ä¾§è¾¹æ å’Œå¡ç‰‡ç¼–è¾‘æŒ‰é’®ç°åœ¨éƒ½èƒ½æ­£å¸¸å·¥ä½œ
- **v2.4.11** (2025-08-16) - Excelè¡¨å¤´èƒŒæ™¯è‰²æ— é™å»¶ä¼¸é—®é¢˜ä¿®å¤
- **é‡å¤§æ›´æ–°å†…å®¹**: 
  - **ä¼ä¸šçº§æŠ¥è¡¨ç¾åŒ–æ ‡å‡†**: å®Œå…¨é‡å†™è€ƒå‹¤å’Œé¡¹ç›®å¯¼å‡ºåŠŸèƒ½ï¼Œè¾¾åˆ°ä¸“ä¸šå•†åŠ¡æŠ¥è¡¨æ°´å‡†
    - è€ƒå‹¤æŠ¥è¡¨ï¼š6ä¸ªä¸“ä¸šå·¥ä½œè¡¨ï¼ˆå°é¢é¡µã€æ‰§è¡Œæ‘˜è¦ã€è¯¦ç»†æ±‡æ€»ã€è¶‹åŠ¿åˆ†æã€è¯·å‡è¯¦æƒ…ã€éƒ¨é—¨å¯¹æ¯”ï¼‰
    - é¡¹ç›®æŠ¥è¡¨ï¼š7ä¸ªä¸“ä¸šå·¥ä½œè¡¨ï¼ˆå°é¢é¡µã€æ‰§è¡Œæ‘˜è¦ã€é¡¹ç›®æ¦‚è§ˆã€è¿›åº¦åˆ†æã€ææ–™è¯¦æƒ…ã€æ—¶é—´çº¿åˆ†æã€èµ„æºç»Ÿè®¡ï¼‰
    - ä¼ä¸šçº§é…è‰²æ–¹æ¡ˆï¼šè“è‰²ä¸»é¢˜ï¼ˆè€ƒå‹¤ï¼‰+ ç»¿è‰²ä¸»é¢˜ï¼ˆé¡¹ç›®ï¼‰ï¼Œæ¸å˜èƒŒæ™¯å’Œä¸“ä¸šé…è‰²
    - ä¸“ä¸šå›¾æ ‡ç³»ç»Ÿï¼šUnicodeå›¾æ ‡ + æ™ºèƒ½è‰²å½©ç¼–ç  + æ¡ä»¶æ ¼å¼åŒ–
  - **ä¿¡æ¯å®Œæ•´æ€§å¤§å¹…æå‡**: 
    - é¡¹ç›®æŠ¥è¡¨æ–°å¢ï¼šé¡¹ç›®å¤æ‚åº¦è¯„ä¼°ã€é£é™©ç­‰çº§åˆ†æã€æ—¶é—´çº¿é¢„æµ‹ã€èµ„æºåˆ©ç”¨ç‡ç»Ÿè®¡
    - è€ƒå‹¤æŠ¥è¡¨æ–°å¢ï¼šæ‰§è¡Œæ‘˜è¦åˆ†æã€è¶‹åŠ¿é¢„æµ‹ã€éƒ¨é—¨ç»©æ•ˆå¯¹æ¯”ã€æ™ºèƒ½å»ºè®®ç³»ç»Ÿ
    - è¯¦ç»†çš„æ•°æ®åˆ†æå’Œç®¡ç†å»ºè®®ï¼Œä¸ºå†³ç­–å±‚æä¾›æ´å¯Ÿæ”¯æŒ
  - **è§†è§‰ç¾åŒ–ä¸“ä¸šçº§æå‡**:
    - å¤šçº§æ ‡é¢˜å’Œåˆ†ç»„å¸ƒå±€ã€ä¸“ä¸šè¾¹æ¡†å’Œé˜´å½±æ•ˆæœ
    - æ•°æ®å¯è§†åŒ–å…ƒç´ ï¼šè¿›åº¦æ¡ã€çŠ¶æ€æŒ‡ç¤ºå™¨ã€ç»©æ•ˆç­‰çº§è‰²å½©ç¼–ç 
    - A4é¡µé¢å¸ƒå±€ä¼˜åŒ–ã€æ‰“å°å‹å¥½çš„ä¼ä¸šçº§è®¾è®¡æ ‡å‡†
- **v2.4.4** (2025-08-16) - Excelå¯¼å‡ºåº“å‡çº§ä¸UIä¼˜åŒ–
- **v2.4.3** (2025-08-16) - é¡¹ç›®åˆ›å»º/ç¼–è¾‘å‘å¯¼æ¨¡æ€æ¡†ä¼˜åŒ–
- **æ¶æ„å˜æ›´**: è¿œç¨‹åç«¯åˆ†ç¦»å¼éƒ¨ç½²ã€ç§»åŠ¨ç«¯ä¸“ç”¨ç»„ä»¶ç³»ç»Ÿ
- **æ›´æ–°æ—¥å¿—**: è¯¦è§ `/æ›´æ–°æ—¥å¿—.txt`

## ç‰ˆæœ¬ç®¡ç†åŸåˆ™

### è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶
æœ¬é¡¹ç›®é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemantic Versioningï¼‰ï¼Œç‰ˆæœ¬å·æ ¼å¼ä¸ºï¼š`MAJOR.MINOR.PATCH`
æ›´æ–°æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼šæ ¹ç›®å½•/æ›´æ–°æ—¥å¿—.txt

#### ç‰ˆæœ¬å·æ›´æ–°è§„åˆ™
1. **PATCHç‰ˆæœ¬ï¼ˆ2.4.0 â†’ 2.4.1ï¼‰**
   - **ç”¨é€”**: Bugä¿®å¤ã€å°ä¼˜åŒ–ã€ä»£ç é‡æ„
   - **ç¤ºä¾‹**: 
     - ä¿®å¤SSEé€šçŸ¥é‡å¤é—®é¢˜
     - ä¿®å¤UIæ˜¾ç¤ºé”™è¯¯
     - æ€§èƒ½ä¼˜åŒ–
     - ä»£ç æ¸…ç†å’Œæ³¨é‡Šå®Œå–„
   - **å…¼å®¹æ€§**: å®Œå…¨å‘åå…¼å®¹
   - **æ•°æ®åº“**: æ— éœ€å˜æ›´

2. **MINORç‰ˆæœ¬ï¼ˆ2.4.1 â†’ 2.5.0ï¼‰**
   - **ç”¨é€”**: æ–°åŠŸèƒ½æ·»åŠ ã€åŠŸèƒ½å¢å¼ºã€æ–°æ¨¡å—
   - **ç¤ºä¾‹**:
     - æ·»åŠ è€ƒå‹¤ç®¡ç†ç³»ç»Ÿ
     - æ–°å¢å…¨å±€æœç´¢åŠŸèƒ½
     - å¢åŠ ç§»åŠ¨ç«¯ä¸“ç”¨ç»„ä»¶
     - APIæ¥å£æ‰©å±•
   - **å…¼å®¹æ€§**: å‘åå…¼å®¹
   - **æ•°æ®åº“**: å¯èƒ½éœ€è¦æ•°æ®åº“è¿ç§»

3. **MAJORç‰ˆæœ¬ï¼ˆ2.5.0 â†’ 3.0.0ï¼‰**
   - **ç”¨é€”**: é‡å¤§æ¶æ„å˜æ›´ã€ä¸å…¼å®¹çš„APIå˜æ›´ã€é‡è¦ä¾èµ–å‡çº§
   - **ç¤ºä¾‹**:
     - æŠ€æœ¯æ ˆå‡çº§ï¼ˆNext.js 16ã€React 19ï¼‰
     - æ•°æ®åº“æ¶æ„é‡å¤§å˜æ›´
     - APIæ¥å£é‡å¤§å˜æ›´
     - UI/UXå¤§å¹…é‡æ„
   - **å…¼å®¹æ€§**: å¯èƒ½å­˜åœ¨ç ´åæ€§å˜æ›´
   - **æ•°æ®åº“**: éœ€è¦å®Œæ•´æ•°æ®è¿ç§»

#### ç‰ˆæœ¬æ›´æ–°æµç¨‹
1. **å¼€å‘é˜¶æ®µ**: åœ¨å¼€å‘åˆ†æ”¯è¿›è¡ŒåŠŸèƒ½å¼€å‘
2. **ç‰ˆæœ¬ç¡®å®š**: æ ¹æ®å˜æ›´å†…å®¹ç¡®å®šç‰ˆæœ¬å·ç±»å‹
3. **æ›´æ–°æ–‡ä»¶**:
   - `frontend/package.json` - æ›´æ–°versionå­—æ®µ
   - `CLAUDE.md` - æ›´æ–°ç‰ˆæœ¬å†å²éƒ¨åˆ†
   - å¯é€‰ï¼š`frontend/CHANGELOG.md` - è¯¦ç»†æ›´æ–°æ—¥å¿—
4. **æäº¤ä»£ç **: ä½¿ç”¨è§„èŒƒçš„commit message
5. **åˆ›å»ºæ ‡ç­¾**: `git tag v2.4.1`
6. **æ¨é€æ›´æ–°**: `git push && git push --tags`

#### Commit Messageè§„èŒƒ
```
ç±»å‹(èŒƒå›´): ç®€çŸ­æè¿°

è¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰

```

**å¸¸ç”¨ç±»å‹**:
- `fix`: Bugä¿®å¤ (PATCH)
- `feat`: æ–°åŠŸèƒ½ (MINOR)
- `BREAKING CHANGE`: ç ´åæ€§å˜æ›´ (MAJOR)
- `refactor`: ä»£ç é‡æ„ (PATCH)
- `docs`: æ–‡æ¡£æ›´æ–° (PATCH)
- `style`: ä»£ç æ ¼å¼åŒ– (PATCH)
- `perf`: æ€§èƒ½ä¼˜åŒ– (PATCH)
- `test`: æµ‹è¯•ç›¸å…³ (PATCH)

### æ•°æ®æ¨¡å‹æ–‡ä»¶
- `backend/src/models/index.js` - Sequelizeæ¨¡å‹æ±‡æ€»å’Œå…³è”å®šä¹‰
- `backend/src/models/[Entity].js` - å„å®ä½“çš„Sequelizeæ¨¡å‹å®šä¹‰
- `frontend/types/attendance.ts` - è€ƒå‹¤ç³»ç»Ÿç±»å‹å®šä¹‰ (æ–°å¢)

### è®¤è¯å’Œä¸­é—´ä»¶
- `backend/src/middleware/auth.js` - JWTè®¤è¯ä¸­é—´ä»¶
- `backend/src/middleware/validation.js` - è¯·æ±‚éªŒè¯ä¸­é—´ä»¶
- `frontend/contexts/AuthContext.tsx` - å‰ç«¯è®¤è¯ä¸Šä¸‹æ–‡

